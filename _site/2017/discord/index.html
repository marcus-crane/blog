<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>Discord is down? &#8211; UTF-9000</title> <meta name="description" content="Well, it was. You missed it!"> <meta name="keywords" content="Linux, Networking"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="http://localhost:4000//assets/img/covers/discord.png"> <meta name="twitter:title" content="Discord is down?"> <meta name="twitter:description" content="Well, it was. You missed it!"> <meta name="twitter:site" content="@sentreh"> <meta name="twitter:creator" content="@sentreh"> <!-- Open Graph --> <meta property="og:locale" content="en_NZ"> <meta property="og:type" content="article"> <meta property="og:title" content="Discord is down?"> <meta property="og:description" content="Well, it was. You missed it!"> <meta property="og:url" content="http://localhost:4000/2017/discord/"> <meta property="og:site_name" content="UTF-9000"> <meta property="og:image" content="http://localhost:4000/images/halve.png"> <link rel="canonical" href="http://localhost:4000/2017/discord/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="" /> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- CSS --> <link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000//assets/img/covers/discord.png) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(http://localhost:4000/images/home.jpg) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left"> <div class="content"> <a href="http://localhost:4000" class="logo"><img src="http://localhost:4000/images/halve.png"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em></div> <h1 class="section-title">Discord is down? </h1> <ul class="tags"> <li><a href="http://localhost:4000/tags#Linux">Linux</a></li> <li><a href="http://localhost:4000/tags#Networking">Networking</a></li> </ul> <div class="section-line reverse"><a href="http://localhost:4000">Back to posts</a> <em>/</em></div> </div> </div> </div> <div class="block-right"> <div class="inner-post content"> <div class="date-highlight">08 Jun 2017</div> <p>I received a message from someone at about 3am on June 8th and I mistakenly thought I received it through Discord. In hindsight, that didn‚Äôt make sense since I didn‚Äôt actually have Discord running.</p> <p>Anyway, I started it up and the iconic spinny logo (which I now know is actually just a webm video) appeared‚Ä¶</p> <p><a href="/assets/img/discord/startup.png"><img src="/assets/img/discord/startup.png" alt="The Discord startup window" /></a></p> <p>and kept spinning‚Ä¶ and spinning‚Ä¶ and ok, obviously something is up here so it‚Äôs time to do some investigating üïµÔ∏è</p> <p>The first step which you should always do is check out the website to see if they have a status page</p> <p><a href="/assets/img/discord/site.png"><img src="/assets/img/discord/site.png" alt="The Discord website erroring out" /></a></p> <p>The same error appeared for <a href="https://status.discordapp.com">https://status.discordapp.com</a> which defeats the entire purpose of having a status page. Well, perhaps we can confirm what exactly is giving the Discord app trouble by checking out <code class="highlighter-rouge">Console.app</code>. Oh and shoutout to <a href="https://twitter.com/samjarman">@samjarman</a> for reminding me the day before that it was a thing.</p> <p><a href="/assets/img/discord/console.png"><img src="/assets/img/discord/console.png" alt="The macOS console app showing Discord errors" /></a></p> <p>Well, it‚Äôs not too surprising considering I couldn‚Äôt access the main site but as we can see, there‚Äôs an <code class="highlighter-rouge">HTTP Load Failed</code> error!</p> <p>Hmm, at this point, I decided to check if it was just me having this issue. There was no mention of any issues by <a href="https://twitter.com/discordapp">@discordapp</a> but that doesn‚Äôt mean there‚Äôs nothing at all. In times like this, <a href="https://search.twitter.com">search.twitter.com</a> becomes your best friend.</p> <p>Sorting by latest, I came across at least a few users:</p> <p><a href="/assets/img/discord/tweet1.png"><img src="/assets/img/discord/tweet1.png" alt="Twitter User @BJ007PRO saying Discord is down" /></a></p> <p><a href="/assets/img/discord/tweet2.png"><img src="/assets/img/discord/tweet2.png" alt="Twitter User @Prens1327 saying Discord is down" /></a></p> <p><a href="/assets/img/discord/tweet3.png"><img src="/assets/img/discord/tweet3.png" alt="Twitter User @immortalmewtwo saying Discord is down" /></a></p> <p>Well, it‚Äôs not just me then! Now that we know it‚Äôs not just a local issue, we can start to look further afield. Using a service like <a href="https://isup.me">isup.me</a> tells us that Discord isn‚Äôt down for everyone but obviously it‚Äôs down for others in New Zealand so the issue must lay somewhere in between.</p> <p>Well, that means we‚Äôve got a solid case to bust out <code class="highlighter-rouge">traceroute</code> which will list all the servers that our connection routes through when attempting to reach Discord.</p> <p><a href="/assets/img/discord/traceroute.png"><img src="/assets/img/discord/traceroute.png" alt="The output of traceroute" /></a></p> <p>The annoying part with this traceroute is that it completes. That‚Äôs great of course but it‚Äôd be a bit more obvious if it just failed at a specific server. To get around this, I tried the very scientific method of visiting each IP address starting from bottom to top.</p> <p>The last 2 timed out while all the previous entries returned nothing. That‚Äôs not bad of course, it just means that those servers aren‚Äôt serving anything on Port <code class="highlighter-rouge">80</code> so chances are we can ignore them. Since the last two are attempting to respond with HTML but failing, we can assume that‚Äôs where the error lays.</p> <p>The highlighted entry from the screenshot above is the earliest server that times out so it makes sense to assume that‚Äôs where the problem begins or else it would just route our request on to the next server. Let‚Äôs see what we can find out about <code class="highlighter-rouge">198.41.236.253</code>.</p> <p><a href="/assets/img/discord/nslookup.png"><img src="/assets/img/discord/nslookup.png" alt="Running nslookup on the IP address" /></a></p> <p>Ahh, a Cloudflare server? That makes sense. For whose who haven‚Äôt heard of it, Cloudflare provides a few services such as DDoS protection to mitigate attacks and a Content Delivery Network (CDN) for distributing services around the world.</p> <p>In the case of Discord, Cloudflare would be mirroring their content so we can connect to a local server rather than waiting for our connection to route all the way to the US which wouldn‚Äôt be as fast.</p> <p>Now that we know that, it‚Äôs worth having a look where exactly this Cloudflare is and surprise, surprise, it‚Äôs located in Auckland!</p> <p><a href="/assets/img/discord/location.png"><img src="/assets/img/discord/location.png" alt="An IP lookup showing the Cloudflare server in Auckland" /></a></p> <p>Now it makes sense why Discord isn‚Äôt mentioning this issue because it‚Äôs not actually a Discord issue, it‚Äôs a Cloudflare issue! So, how about we check the Cloudflare status page instead?</p> <p><a href="/assets/img/discord/cloudflare.png"><img src="/assets/img/discord/cloudflare.png" alt="Cloudflare's status page" /></a></p> <p>Would ya look at that, it‚Äôs <code class="highlighter-rouge">Re-routed</code>. That‚Äôs not explicitly an error but we‚Äôve got users in New Zealand having issues on the left and a New Zealand server with a status other than <code class="highlighter-rouge">Operational</code> on the right so I think it‚Äôs safe to conclude that the issue resides with Cloudflare (the middlemen and middlewomen, geddit?).</p> <p>After a while, Cloudflare changed back to <code class="highlighter-rouge">Operational</code> and the entire route changed aside from the first two (my router and ISP respectively) and the final address.</p> <p>Initially the traffic was passing from my house up to Auckland and then to San Francisco but now it passes through a bunch of <a href="https://en.wikipedia.org/wiki/Bogon_filtering">bogon</a> addresses and one address owned by <a href="https://www.ix.asn.au/">IX Australia</a> before popping up at the same Cloudflare address in San Francisco.</p> <p>Ah well, things are back in order so I can go back to chatting on Discord. I never received any acknowledgement from their Twitter account but I sent an email to their engineering department to follow up.</p> <p>At least, their mail server told me that engineering was a valid email address. As for how I found that out, well, that‚Äôs a blog post for another day (or you can just search <code class="highlighter-rouge">telnet smtp</code>).</p> <p>If I get a reply back, I‚Äôll post an update with their response.</p> <br> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/2017/discord/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2017/discord/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=http://localhost:4000/2017/discord/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <nav class="pagination"> <a href="http://localhost:4000/2017/async/" class="pagination_pager" title="Testing Async functions in Mocha ">previous</a> <a href="#" class="pagination_pager disabled">next</a> </nav> </div> </div> <!-- JS --> <script src="http://localhost:4000/assets/js/main.min.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-25776766-13', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(http://taylantatli.me/Halve/images/halve-home-image.png) center center no-repeat;"> <a href="http://taylantatli.me/Halve" class="inactive" target="_blank" rel="nofollow external"> <span> Halve Jekyll Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://cloud.githubusercontent.com/assets/754514/14509720/61c61058-01d6-11e6-93ab-0918515ecd56.png) center center no-repeat;"> <a href="http://taylantatli.me/Moon" target="_blank" rel="nofollow external"> <span> Moon Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png) center center no-repeat;"> <a href="http://taylantatli.me/Ramme" target="_blank" rel="nofollow external"> <span> Ramme Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Daisy-Pelican-Theme/master/Preview-1.png) center center no-repeat;"> <a href="http://taylantatli.me/Daisy-Pelican-Theme/" target="_blank" rel="nofollow external"> <span> Daisy Pelican Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Block-Icon-Theme/master/Preview.png) center center no-repeat;"> <a href="https://github.com/TaylanTatli/Block-Icon-Theme" class="inactive" target="_blank" rel="nofollow external"> <span> Block Icon Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/StartPage/master/preview.png) center center no-repeat;"> <a href="http://taylantatli.me/StartPage/" class="inactive" target="_blank" rel="nofollow external"> <span> Start Page <br><em>in progress</em> </span> </a> </li> </ul> </div> </body> </html>

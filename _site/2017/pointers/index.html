<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>Pointers &#8211; UTF-9000</title> <meta name="description" content="Here’s some pointers about pointers!"> <meta name="keywords" content="Go"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:image" content="http://localhost:4000//assets/img/covers/pointers.jpg"> <meta name="twitter:title" content="Pointers"> <meta name="twitter:description" content="Here’s some pointers about pointers!"> <meta name="twitter:site" content="@sentreh"> <meta name="twitter:creator" content="@sentreh"> <!-- Open Graph --> <meta property="og:locale" content="en_NZ"> <meta property="og:type" content="article"> <meta property="og:title" content="Pointers"> <meta property="og:description" content="Here’s some pointers about pointers!"> <meta property="og:url" content="http://localhost:4000/2017/pointers/"> <meta property="og:site_name" content="UTF-9000"> <meta property="og:image" content="http://localhost:4000/images/halve.png"> <link rel="canonical" href="http://localhost:4000/2017/pointers/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="" /> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Apple icons --> <link href="http://localhost:4000/images/apple-icon.png" rel="apple-touch-icon" /> <link href="http://localhost:4000/images/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /> <link href="http://localhost:4000/images/apple-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /> <link href="http://localhost:4000/images/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /> <link href="http://localhost:4000/images/icon-hires.png" rel="icon" sizes="192x192" /> <link href="http://localhost:4000/images/icon-normal.png" rel="icon" sizes="128x128" /> <!-- CSS --> <link rel="stylesheet" type="text/css" href="http://localhost:4000/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(http://localhost:4000//assets/img/covers/pointers.jpg) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(http://localhost:4000/images/home.jpg) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left"> <div class="content"> <a href="http://localhost:4000" class="logo"><img src="http://localhost:4000/images/halve.png"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em></div> <h1 class="section-title">Pointers </h1> <ul class="tags"> <li><a href="http://localhost:4000/tags#Go">Go</a></li> </ul> <div class="section-line reverse"><a href="http://localhost:4000">Back to posts</a> <em>/</em></div> </div> </div> </div> <div class="block-right"> <div class="inner-post content"> <div class="date-highlight">18 Apr 2017</div> <p>I wrote this for myself to better understand pointers but perhaps someone else may find it just as useful. I found that most mentions just kinda glossed over them because they’re “easy”.</p> <p>It’s true that they’re not hard but they didn’t really click until I wrote out in depth what’s going on.</p> <p>This example uses Go but you should be able to translate it into your language of choice. <code class="highlighter-rouge">func</code> is just a function and <code class="highlighter-rouge">fmt.Println</code> is, y’know, <code class="highlighter-rouge">console.log()</code> in Javascript or <code class="highlighter-rouge">print()</code> in Python. That’s all there is specific to go.</p> <p>The rest onwards is unedited:</p> <p>In their simplest form, a pointer references a value within a computer program via its memory address. That is to say, it doesn’t copy the original value but actually alters the original value directly. ​</p> <p>It should be noted that they exist in a bunch of languages but for this exercise, let’s start with a small program written in Go. ​ <code class="highlighter-rouge">go package main ​ import "fmt" ​ func setToZero(copyOfValue int) { copyOfValue = 0 } ​ func main() { value := 1 setToZero(value) fmt.Println("value:", value) } ​ // value: 1 </code> ​ So, you might be thinking we’ve set value to 1, we pass it into a function which sets it to 0 and then we get the result of 0 but it’s not quite that simple. ​</p> <p>When the setToZero function is evaluated, it doesn’t receive the actual original value variable but rather, a <strong>copy</strong> of it. This copy is set to <code class="highlighter-rouge">0</code> and then thrown away. ​</p> <p>This is where pointers come into play. Instead of passing in the value, which gets copied, we pass in a reference to where the original value variable is stored in memory.</p> <p>This is called <strong>referencing</strong>. That is, we’re quite literally passing in a <strong>reference</strong> to the memory address that <code class="highlighter-rouge">value</code> is stored at. The reference <code class="highlighter-rouge">points</code> to where the value is stored, hence the name. ​ <code class="highlighter-rouge">go package main ​ import "fmt" ​ func setToZero(pointerToValue *int) { *pointerToValue = 0 } ​ func main() { value := 1 setToZero(&amp;value) fmt.Println("value:", value) } ​ // value: 0 </code> ​ There’s two main bits to pointers. The reference, which we can see as <code class="highlighter-rouge">&amp;value</code> points to the memory address of the original <code class="highlighter-rouge">value</code> as stated before. The received pointer, within the <code class="highlighter-rouge">setToZero</code> function is prefixed with a <code class="highlighter-rouge">*</code> to denote a pointer.</p> <p>All we need to do is change the expected type, <code class="highlighter-rouge">int</code> in this case to expect an <code class="highlighter-rouge">*int</code> pointer. We can then freely alter the value at the pointers memory address by prefixing our new variable name with an <code class="highlighter-rouge">*</code>. ​</p> <p>To better understand what’s happening behind the scenes, we can print out the values of <code class="highlighter-rouge">pointerToValue</code>, <code class="highlighter-rouge">*pointerToValue</code> and <code class="highlighter-rouge">&amp;value</code>. ​ <code class="highlighter-rouge">go package main ​ import "fmt" ​ func setToZero(pointerToValue *int) { fmt.Println("ptrToValueDereferenced:", *pointerToValue) fmt.Println("ptrToValueInside:", pointerToValue) } ​ func main() { value := 1 setToZero(&amp;value) fmt.Println("ptrToValueOutside:", &amp;value) fmt.Println("actualValue:", value) } ​ // ptrToValueDereferenced: 1 // ptrToValueInside: 0x1040a124 // ptrToValueOutside: 0x1040a124 // actualValue: 1 </code> ​ Let’s break it down in really tiny steps: ​</p> <p>We pass <code class="highlighter-rouge">&amp;value</code>, a pointer to the memory address of the value variable into our <code class="highlighter-rouge">setToZero</code> function. The value of <code class="highlighter-rouge">&amp;value</code>, our pointer, is simply the memory address <code class="highlighter-rouge">0x1040a124</code>. ​</p> <p>On the inside of the function, <code class="highlighter-rouge">pointerToValue</code> is now exactly the same as our initial <code class="highlighter-rouge">&amp;value</code> pointer. It too, is just the location of the <code class="highlighter-rouge">value</code> variable in memory. ​</p> <p>Next, we <strong>dereference</strong> our pointer using an asterisk. Our <strong>dereferenced</strong> pointer is now the actual value, rather than the location of the value. Notice that it’s value is now <code class="highlighter-rouge">1</code>? ​</p> <p>If we were to update the value, eg; <code class="highlighter-rouge">*pointerToValue = 2</code>, then the value at that address gets updated. ​</p> <p>Now, that wasn’t so hard, was it! If it still doesn’t make sense, try using these examples in the <a href="https://play.golang.org/">Go Playground</a> or using pointers in whichever language you’re ultimately using.</p> <p>If I got something wrong, seeing as I have exactly 15 minutes experience with pointers (there abouts) as of writing, feel free to complain via <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#109;&#097;&#114;&#099;&#117;&#115;&#064;&#116;&#104;&#105;&#110;&#103;&#115;&#105;&#109;&#097;&#046;&#100;&#101;">email</a> or <a href="https://twitter.com/sentreh">Twitter</a>.</p> <br> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/2017/pointers/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2017/pointers/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=http://localhost:4000/2017/pointers/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <nav class="pagination"> <a href="http://localhost:4000/2017/deepin/" class="pagination_pager" title="Speeding up Deepin Linux ">previous</a> <a href="http://localhost:4000/2017/async/" class="pagination_pager" title="Testing Async functions in Mocha ">next</a> </nav> </div> </div> <!-- JS --> <script src="http://localhost:4000/assets/js/main.min.js"></script> <!-- Asynchronous Google Analytics snippet --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-25776766-13', 'auto'); ga('require', 'linkid', 'linkid.js'); ga('send', 'pageview'); </script> <div class="overlay"> <ul class="projects-menu"> </ul> </div> </body> </html>
